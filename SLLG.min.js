/** Super-Lite Line Graphing JS library v1.4; jimyuyuyi@gmail.com**/
var SLLG=function(pari,mapdatai,opts){var ud,t_=this,nan=Number.NaN,clrary=[],defopts={grpary:ud,colors:[],endfunc:ud,xhili:ud,yhili:ud,ser_hide:[],loadlbl:ud,lineThickness:1.5,areafill:!1,xmin:nan,xmax:nan,xinc:nan,xincsub:nan,xary:ud,xincgap:nan,xtimeflag:ud,ymin:nan,ymax:nan,yscale:nan,ydec:4,yunit:ud,yudlbl:"NODATA",ypowadjust:!0,rpthrs:nan,rpthre:nan,combinemod:nan,colind:nan,ymultintrvl:nan,yrecalc_limit:21600,loopbrk:nan,resizewait:500,movewait:40,statpar:ud,statmin:!0,statmax:!0,statavg:!0,stat_triglbl:!0,statpct:nan,stattimenode:ud,statcolorlines:ud,statbench:nan,statbenchdesc:ud,zoomcolor:"rgba(128,128,128,0.33)",gridcolor:"gray",gridsize:2,gridopacity:.2,hili_size:6,yavglsize:2,yleftmargin:5,yrightmargin:0,xlblmargin:4},genvars={par:pari,mapdata:mapdatai,excanvflag:typeof G_vmlCanvasManager!=""+ud,ptcanvs:[],ptcanvorigs:[],mousecanv:0,hilnds:[],grpistr:ud,ms_start:ud,zind0:0,wi_:0,hei_:0,ylblw:0,ylblh:0,lh:0,dragcord:ud,xlbmin:0,xaxmin:0,xaxmax:0,xaxinc:0,xsameyr:!0,yaxmin:0,yaxmax:0,yaxinc:0,yaxmin0:ud,yaxmax0:ud,sclx:0,scly:0,xloopn:0,yminact:0,ymaxact:0,ofstbleft:0,ofstbtop:0,mousevtset:ud,drawdone:ud,iszoomed:ud,ysclac:1,ypowpre:ud,yunitact:ud,plotdata:{},statlbls:[],statcol_lnodes:{},yavgls:[],lgelbls:[],yhisubs:[],stat_arys:{ser_ysum:[],ser_xcnt:[],ser_benchcnt:[],ser_maxpt:[],ser_vals:[],ser_minpt:[]},stat_origs:ud,sbnchnode:ud,mvtimer:ud,gi_:0,loopc:0,xpathstart:ud,xlastdraw:ud,xlastmove:ud,pathsize:0};for(var k in defopts)t_[k]=opts[k]!=ud?opts[k]:defopts[k];for(var k in genvars)t_[k]=genvars[k];if(t_.par=SLLG.getnodebyname(t_.par),t_.par?t_.par.style.position&&t_.par.style.position.match(/\w/)||(t_.par.style.position="relative"):t_.par=document.body,!isNaN(t_.statpct)&&(t_.statpct>100||t_.statpct<0)&&(t_.statpct=nan),0==t_.xinc&&(t_.xinc=nan),isNaN(t_.loopbrk)&&(t_.excanvflag?t_.loopbrk=3e4:t_.loadlbl&&(t_.loopbrk=4e4)),SLLG.isArray(t_.xary)&&t_.xary.length>0)t_.xtimeflag=ud,isNaN(t_.xmin)&&(t_.xmin=0),isNaN(t_.xmax)&&(t_.xmax=t_.xary.length-1);else if(t_.xary=ud,isNaN(t_.xmax)||isNaN(t_.xmin)||isNaN(t_.xinc)){isNaN(t_.xmin)&&(t_.xmin=1/0),isNaN(t_.xmax)&&(t_.xmax=-1/0);var trycnt=0;for(var grp in t_.mapdata){var x0=nan;for(x in t_.mapdata[grp]){if(trycnt++,trycnt>=t_.yrecalc_limit)break;x=parseFloat(x),isNaN(x)||isNaN(t_.mapdata[grp][x])||(t_.xmax<x&&(t_.xmax=x),t_.xmin>x&&(t_.xmin=x),isNaN(t_.xinc)&&(isNaN(x0)?x0=x:t_.xinc=x-x0))}if(trycnt>=t_.yrecalc_limit)break}1/0==t_.xmin&&(t_.xmin=0),t_.xmax==-1/0&&(t_.xmax=t_.xmin)}if(isNaN(t_.xinc)&&(t_.xinc=1),!isNaN(t_.xincsub)&&(0==t_.xincsub||Math.abs(t_.xincsub)>=Math.abs(t_.xinc))&&(t_.xincsub=nan),t_.xtimeflag==ud&&t_.xmin>=864e5&&t_.xmax>=864e5&&(t_.xtimeflag=!0),!t_.grpary||!t_.grpary.length||t_.grpary.length<=0){t_.grpary=[];for(var grp in t_.mapdata)t_.grpary.push(grp)}if(isNaN(t_.yscale)||1!=t_.yscale&&0!=t_.yscale||(t_.yscale=nan),t_.yunit==ud&&(t_.ypowadjust=!1),!(t_.grpary.length<=0)){for(var gi=0;gi<t_.grpary.length;gi++){var colr=ud;t_.grpary[gi]!=ud&&(colr=t_.colors.length>0?t_.colors.shift():"black"),clrary[gi]=colr}if(t_.colors=clrary,t_.xtimeflag&&(!isNaN(t_.rpthrs)||!isNaN(t_.rpthre))){var hc,dobj=new Date,hs=t_.rpthrs,he=t_.rpthre;isNaN(t_.xmin)||isNaN(hs)||(dobj.setTime(t_.xmin),hc=dobj.getHours(),(!isNaN(hs)&&hs>hc&&(isNaN(he)||he>hs||hc>he)||!isNaN(hs)&&!isNaN(he)&&hs>=he&&hs>hc)&&(dobj.setHours(hs),dobj.setMinutes(0),dobj.setSeconds(0),dobj.setMilliseconds(0),t_.xmin=dobj.getTime())),isNaN(t_.xmax)||isNaN(he)||(dobj.setTime(t_.xmax),hc=dobj.getHours(),(!isNaN(he)&&hc>=he&&(isNaN(hs)||he>hs)||!isNaN(hs)&&!isNaN(he)&&hs>=he&&hc>he)&&(dobj.setHours(he),dobj.setMinutes(0),dobj.setSeconds(0),dobj.setMilliseconds(0),t_.xmax=dobj.getTime())),!isNaN(hs)&&!isNaN(he)&&hs>he&&(t_.rpthrs=nan,t_.rpthre=nan),!isNaN(he)&&0>he&&(t_.rpthre=nan)}t_.yunit!=ud&&(typeof t_.yunit).match(/^str/i)&&!t_.yunit.match(/[^ ]/)&&(t_.yunit=ud),isNaN(t_.ymultintrvl)||0!=t_.ymultintrvl||(t_.ymultintrvl=nan);for(var gi=0;gi<t_.grpary.length;gi++){var grp=t_.grpary[gi];if(grp!=ud&&!t_.mapdata[gi]&&t_.mapdata[grp]){t_.grpistr=!0;break}}if(!t_.excanvflag&&t_.par.tagName.match(/canvas/i)&&(t_.mousecanv=t_.par,t_.par=t_.par.parentNode),t_.zind0=parseFloat(SLLG.getcompstyle(t_.par,"z-index")),isNaN(t_.zind0)&&(t_.zind0=0),t_.statpar&&(t_.statpar=SLLG.getnodebyname(t_.statpar)),t_.loadlbl&&(t_.loadlbl=SLLG.getnodebyname(t_.loadlbl),!t_.loadlbl)){with(t_.loadlbl=document.createElement("div"),t_.loadlbl.className="SLLG_loadlbl",t_.loadlbl.style)position="absolute",left="20%",top="0%",zIndex=t_.zind0+t_.grpary.length+9;t_.par.appendChild(t_.loadlbl)}with(t_.mousecanv||(t_.mousecanv=document.createElement("canvas"),t_.mousecanv.className="SLLG_mousecanv"),t_.mousecanv.style)position="absolute",top="0px",cursor="default",zIndex=t_.zind0+t_.grpary.length+10;t_.par.appendChild(t_.mousecanv),t_.excanvflag&&(t_.mousecanv=G_vmlCanvasManager.initElement(t_.mousecanv)),t_.mslast=(new Date).getTime(),t_.loopc=-1;var gm=t_.combinemod;!gm||isNaN(gm)||t_.grpary.length<gm?t_.drawzoom():t_.checkdocombine()}};SLLG.prototype.getmapdata=function(t,a){var e,i,r=this;if(i=a+r.xinc,r.xtimeflag&&r.xinc>=864e5){a=SLLG.timeround(a,r.xinc),i=SLLG.timeround(i,r.xinc)}if(r.plotdata[t]&&r.plotdata[t][a])return r.plotdata[t][a];isNaN(r.ysclac)&&(r.ysclac=r.yscale),isNaN(r.ysclac)&&(r.ysclac=1);var e=r.getmapdata_range(t,a,i);return isNaN(e)||isNaN(r.ysclac)||(e=SLLG.rounddec(e/r.ysclac,r.ydec)),r.plotdata[t]&&(r.plotdata[t][a]=e),e},SLLG.prototype.getmapdata_range=function(t,a,e){var i,r,l=this;if(isNaN(l.xincsub))i=l.getmapdata_sub(t,a);else{for(var n,s=r,o=a;e>o;o+=l.xincsub){var c=l.getmapdata_sub(t,o);if(!isNaN(c)){if(!isNaN(l.ymultintrvl)&&s!=r){var x=Math.ceil((o-s)/l.ymultintrvl);(isNaN(n)||n>x)&&(n=x)}s=o,i=(i?i:0)+c}}!isNaN(l.ymultintrvl)&&isNaN(n)&&s!=r&&l.xtimeflag&&l.xinc>=864e5&&(n=Math.ceil(l.xinc/l.ymultintrvl)),1>=n&&(n="nan"),isNaN(i)||isNaN(n)||(i*=n)}return i!=r||isNaN(l.yudlbl)||(i=l.yudlbl),i},SLLG.prototype.getmapdata_sub=function(t,a){var e,i,r=this,l=0;if(t==i||a==i||isNaN(a)||r.grpary[t]==i)return e;if(r.grpistr&&r.grpary[t]!=i&&(t=r.grpary[t]),r.mapdata[t]!=i&&r.mapdata[t][a]!=i)var e=r.mapdata[t][a];for(;e!=i&&SLLG.isArray(e)&&10>l;)e=e.length<=0?i:!isNaN(r.colind)&&r.colind>=0?r.colind<e.length?e[r.colind]:0:e[e.length-1],l++;return e},SLLG.prototype.checkdocombine=function(){var t=this,a=t.combinemod;if(2>a&&(a=2),!t.newgrpary){t.newgrpary=[],t.tmpmap={};for(var e=0;e<t.grpary.length;e+=a){var i=t.grpary[e].replace(/(in|out)bound/i,"Total");t.newgrpary.push(i)}}var r=t.xmin;t.ysclac=t.yscale;do{if(t.loopc++,r=t.loopc*t.xinc+t.xmin,r>t.xmax)break;for(var e=0;e<t.grpary.length&&!(e+a-1>=t.grpary.length);e+=a){for(var l=0,n=!0,s=0;a>s;s++){var o=t.getmapdata_range(e+s,r,r+t.xinc);isNaN(o)||(l+=o,n=!1)}n&&(l=Number.NaN);var i=Math.floor(e/a);t.grpistr&&(i=t.newgrpary[i]),t.tmpmap[i]||(t.tmpmap[i]={}),t.tmpmap[i][r]=l}if(!isNaN(t.loopbrk)&&t.loopc%t.loopbrk==0){t.loadlbl&&(t.loadlbl.innerHTML="Combining series data: "+Math.round(100*t.loopc*t.xinc/(t.xmax-t.xmin))+"% done"),window.setTimeout(function(){t.checkdocombine()});break}}while(r<=t.xmax);if(r>t.xmax){t.mapdata=t.tmpmap,t.grpary=t.newgrpary.slice(0),delete t.newgrpary;{(new Date).getTime()}return t.mslast=(new Date).getTime(),t.drawzoom()}},SLLG.prototype.xval2cord=function(t,a){if(isNaN(t))return t;var e=this,i=(t-e.xaxmin)*e.sclx;return a&&(i+=e.ylblh+e.ylblw+e.yleftmargin),i},SLLG.prototype.xcord2val=function(t){if(isNaN(t))return t;var a=this;t-=a.ofstbleft;var e=t/a.sclx+a.xaxmin;return a.xtimeflag&&a.xinc>72e5?(dobj=new Date(e),dobj.setHours(12),dobj.setMinutes(0),dobj.setSeconds(0),dobj.setMilliseconds(0),dobj.setHours(e<dobj.getTime()?0:24),e=dobj.getTime()):a.xinc>=1&&(e%a.xinc>a.xinc/2&&(e+=a.xinc),e-=e%a.xinc),e},SLLG.prototype.yval2cord=function(t){if(isNaN(t))return t;var a=this,e=a.hei_-(t-a.yaxmin)*a.scly;return e},SLLG.prototype.ycord2val=function(t){if(isNaN(t))return t;var a=this;t-=a.ofstbtop;var e=(a.hei_-t)/a.scly+a.yaxmin;return e},SLLG.prototype.evtsetup=function(t,a){var e=this,i=function(t){return e&&e[a+"_"]?e[a+"_"](t):!1};SLLG.evtadd(t,a,i)},SLLG.prototype.mousedown_=function(t){t=t?t:window.event;var a,e=this,i=t.which?t.which:t.button;if(SLLG.evtcancel(t),!e.drawdone)return!1;if(1>=i&&e.dragcord==a){e.dragcord=[SLLG.mousepos(t,"X"),SLLG.mousepos(t,"Y")],e.mousecanv.style.cursor="move";for(var r=0;r<e.hilnds.length;r++)e.hilnds[r]&&(e.hilnds[r].style.visibility="hidden")}return!1},SLLG.prototype.mouseup_=function(t){t=t?t:window.event;{var a,e=this;t.which?t.which:t.button}if(SLLG.evtcancel(t),!e.drawdone)return!1;if(e.dragcord!=a){var i=SLLG.mousepos(t,"X"),r=[e.xcord2val(e.dragcord[0]),e.xcord2val(i)];if(r[1]<r[0]){var l=r[0];r[0]=r[1],r[1]=l}e.dragcord=a;var n=e.mousecanv.getContext("2d");n.clearRect(0,0,e.mousecanv.width,e.mousecanv.height),r[1]-r[0]>=e.xinc?(e.xval2cord(r[1],!0)<i&&(r[1]+=e.xinc),e.drawzoom(r[0],r[1])):(e.xaxmin!=e.xmin||e.xaxmax!=e.xmax)&&e.drawzoom(),e.mousecanv.style.cursor="default"}return!1},SLLG.prototype.mousewheel_=function(t){t=t?t:window.event;var a=this,e=Math.max(-1,Math.min(1,t.wheelDelta||-t.detail));if(SLLG.evtcancel(t),!a.drawdone)return!1;var i=a.xaxmin-60*a.xinc,r=a.xaxmax+60*a.xinc;if(e>0){var l=SLLG.mousepos(t,"X"),n=a.xcord2val(l);i=n-a.xinc*(Math.round(a.loopc/2)-20),r=n+a.xinc*(Math.round(a.loopc/2)-20)}return i<a.xmin?i=a.xmin:i>r-2*a.xinc&&(i=r-2*a.xinc),r>a.xmax?r=a.xmax:r<i+2*a.xinc&&(r=i+2*a.xinc),(a.xaxmin!=i||a.xaxmax!=r)&&a.drawzoom(i,r),!1},SLLG.prototype.resize_=function(t){t=t?t:window.event;var a,e=this;return SLLG.evtcancel(t),!e.drawdone||!isNaN(e.yrecalc_limit)&&e.xloopn>e.yrecalc_limit?!1:(e.drawdone=!1,e.yaxmin0!=a&&(e.yaxmin=e.yaxmin0,e.yaxmax=e.yaxmax0),setTimeout(function(){return e.drawstart()},e.resizewait),!1)},SLLG.prototype.mousemove_=function(t){var a,e=this;if(t=t?t:window.event,SLLG.evtcancel(t),!e.drawdone)return!1;var i=SLLG.mousepos(t,"X"),r=SLLG.mousepos(t,"Y");if(e.dragcord!=a&&e.zoomcolor){var l=e.mousecanv.getContext("2d");l.clearRect(0,0,e.mousecanv.width,e.mousecanv.height),l.fillStyle=e.zoomcolor;var n=e.ofstbleft-2*e.yleftmargin,s=[e.dragcord[0]-n,i-n];return s.sort(),l.fillRect(s[0],0,s[1]-s[0],e.hei_),!1}return e.drawdone&&(e.xhili||e.yhili)&&(e.excanvflag&&e.xloopn>=e.loopbrk?(e.mvtimer&&clearTimeout(e.mvtimer),e.mvtimer=setTimeout(function(){e.hili_update(i,r),delete e.mvtimer},e.movewait)):e.hili_update(i,r)),!1},SLLG.prototype.hili_update=function(xc,yc){var ud,t_=this,xupdflag=!1,dobj=((new Date).getTime(),new Date);if(!t_.xhili&&!t_.yhili)return!0;xc==ud&&(xc=t_.xlastmove!=ud?t_.xlastmove:t_.xval2cord(t_.xaxmin));var xvm=t_.xcord2val(xc,!0),yvm=t_.ycord2val(yc);xvm>t_.xaxmax?xvm=t_.xaxmax:xvm<t_.xaxmin&&(xvm=t_.xaxmin);var xvorig=xvm,multlim=Math.abs(Math.ceil(1/(t_.sclx*t_.xinc))),ydiff=1/0;if(t_.xtimeflag&&t_.xinc>=2592e6&&(xvm=SLLG.timeround(xvm,t_.xinc),multlim=0),multlim>0)for(var m1=-multlim;multlim>=m1;m1++)for(var xvc=xvorig+m1*t_.xinc,i=0;i<t_.grpary.length;i++){var yvc=t_.getmapdata(i,xvc);!isNaN(yvc)&&ydiff>Math.abs(yvc-yvm)&&(ydiff=Math.abs(yvc-yvm),xvm=xvc)}var xc2=t_.xval2cord(xvm,!0);isNaN(xc2)||(xc2-=t_.hili_size),t_.hilnds.length<t_.grpary.length&&t_.hili_init();for(var i=0;i<t_.grpary.length;i++)if(t_.grpary[i]!=ud){var yv=t_.getmapdata(i,xvm);if(!isNaN(yv)||isNaN(t_.xincgap)){xupdflag=!0;break}}var hrskipped=!1;if(t_.xtimeflag&&(!isNaN(t_.rpthrs)||!isNaN(t_.rpthre))){dobj.setTime(xvm);var hrcur=dobj.getHours();(!isNaN(t_.rpthrs)&&hrcur<t_.rpthrs||!isNaN(t_.rpthre)&&hrcur>t_.rpthre)&&(hrskipped=!0)}for(var i=0;i<t_.grpary.length;i++)if(t_.grpary[i]!=ud){var yv=t_.getmapdata(i,xvm);yv==ud?yv=t_.yudlbl:hrskipped&&(yv="hour-skipped");var yhilisub=t_.yhisubs[i];if(t_.ser_hide[i]?(yv="_",t_.yhili&&(yhilisub.style.color="gray")):t_.yhili&&(yhilisub.style.color=t_.colors[i]),xupdflag){var ystr=yv;if(isNaN(yv))t_.hilnds[i].style.visibility="hidden";else{var yc=t_.yval2cord(yv)-2*t_.hili_size;with(t_.hilnds[i].style)visibility="visible",left=xc2+"px",top=yc+"px";t_.ydec&&!isNaN(t_.ydec)&&(ystr=SLLG.rounddec(ystr,t_.ydec))}t_.yhili&&(yhilisub.innerHTML=t_.grpary[i]+"="+ystr+", ")}}if(xupdflag){var xstr=xvm;t_.xary?xstr=t_.xary[xvm]:t_.xtimeflag&&(xstr=SLLG.timestrfmt(xvm,(t_.xsameyr?"":"y/")+"m/d h:i"+(t_.xinc<6e4?":s":""))),t_.xhili&&(t_.xhili.innerHTML=xstr+": ")}t_.xlastmove=xc;(new Date).getTime()},SLLG.prototype.drawstart=function(){var t=this;t.drawdone=!1,t.ms_start=(new Date).getTime(),t.loadlbl&&(t.loadlbl.style.display="block",t.loadlbl.innerHTML="Initalizing graph"),t.calcscales(),t.canvasinit(),t.drawlegend(),t.hili_update(),t.gi_=0;for(var a in t.stat_arys)t[a]=[];t.plotdata={};for(var e=0;e<t.grpary.length;e++)t.plotdata[e]={},t.statlbls[e]&&(t.statlbls[e].innerHTML="");if(t.ptcanvorigs.length>0&&t.xloopn>t.yrecalc_limit&&!t.iszoomed){for(var e=0;e<t.ptcanvorigs.length;e++)t.excanvflag?t.ptcanvs[e].getContext("2d").element_.innerHTML=t.ptcanvorigs[e]:(t.par.insertBefore(t.ptcanvorigs[e],t.ptcanvs[e]),t.par.removeChild(t.ptcanvs[e]),t.ptcanvs[e]=t.ptcanvorigs[e],t.ptcanvorigs[e]=SLLG.clonecanvas(t.ptcanvs[e]));for(var a in t.stat_arys)t[a]=t.stat_origs[a].slice(0);return t.drawend()}return t.drawseries()},SLLG.prototype.drawzoom=function(t,a){var e,i=this;i.iszoomed=!1,i.xaxmin=t,i.xaxmax=a,i.xaxmin==e||isNaN(i.xaxmin)||i.xaxmin<i.xmin?i.xaxmin=i.xmin:i.iszoomed=!0,i.xaxmax==e||isNaN(i.xaxmax)||i.xaxmax>i.xmax?i.xaxmax=i.xmax:i.iszoomed=!0,i.xloopn=Math.ceil((i.xaxmax-i.xaxmin)/i.xinc),!isNaN(i.loopbrk)&&(isNaN(i.yrecalc_limit)||i.yrecalc_limit>i.loopbrk)&&(i.yrecalc_limit=i.loopbrk),!isNaN(i.yrecalc_limit)&&i.xloopn<=i.yrecalc_limit&&(i.ypowadjust&&!isNaN(i.yscale)||i.iszoomed||isNaN(i.ymax))?(i.yminact=1/0,i.ymaxact=-1/0,i.gi_=0,i.loopc=-1,i.ysclac=i.yscale,i.plotdata={},i.getyrange_loopx()):(i.yaxmax=i.ymax,isNaN(i.ymin)&&(i.ymin=0),i.yaxmin=i.ymin,i.drawstart())},SLLG.prototype.calcscales=function(){var t,a=this,e=new Date;a.lh=SLLG.getstr_wh("ZZZ",a.par).h;var i=a.xloopn/10;if(a.xtimeflag){i%5!=0&&(i-=i%5);for(var r=[60,120,360,1440,7200,10080,20160,43200,86400,525600,1052640],l=0;l<r.length;l++){var n=6e4*r[l]/a.xinc;if(a.xloopn<13*n&&a.xloopn>2*n){i=n;break}}}if(0>=i||a.xary?i=1:i>1&&(i=Math.ceil(i)),a.xaxinc=a.xinc*i,1==a.xinc&&a.xaxinc<1&&!a.xtimeflag&&!SLLG.isArray(a.xary)&&(a.xaxinc=1),a.xlbmin=a.xaxmin,a.xtimeflag)for(a.xaxinc<=36e5&&a.xaxinc>=6e4&&(a.xlbmin+=a.xaxinc/2),e=new Date,e.setTime(a.xlbmin),a.xlbmin=SLLG.timeround(a.xlbmin,a.xinc),a.xaxmin>a.xlbmin&&(a.xaxmin=a.xlbmin);a.xlbmin<a.xaxmin-a.xaxinc/2&&a.xaxinc>=6e4;)a.xlbmin+=a.xaxinc;if(!a.xtimeflag&&a.xlbmin%a.xaxinc!=0&&i>1&&(a.xlbmin+=a.xaxinc,a.xlbmin-=a.xlbmin%a.xaxinc),a.xloopn=Math.ceil((a.xaxmax-a.xaxmin)/a.xinc),a.ysclac=a.yscale,(isNaN(a.ysclac)||0==a.ysclac)&&(a.ysclac=1),a.yaxmax<a.yaxmin){var s=a.yaxmin;a.yaxmin=a.yaxmax,a.yaxmax=s}if(a.yaxmin0=a.yaxmin,a.yaxmax0=a.yaxmax,a.ypowadjust){var o=Math.max(Math.abs(a.yaxmin),Math.abs(a.yaxmax));a.ypowpre=SLLG.powvalstr_closestunitpre(o),a.ypowpre.length>0&&SLLG.powvalstr_map[a.ypowpre]>1?a.ysclac=a.ysclac*SLLG.powvalstr_map[a.ypowpre]:a.ypowpre=""}1!=a.ysclac&&(a.yaxmax=SLLG.rounddec(a.yaxmax/a.ysclac,a.ydec),a.yaxmin=SLLG.rounddec(a.yaxmin/a.ysclac,a.ydec)),a.ylblh=a.yunit?a.lh:0,a.hei_=Math.floor(a.par.offsetHeight-1.5*a.lh-2);var c=Math.max(Math.abs(a.yaxmin),Math.abs(a.yaxmax));0==c&&(c=1);var x=Math.floor(Math.log(c)/Math.log(10))-1,_=Math.pow(10,x);a.yaxmin==a.yaxmax&&(a.yaxmin-=10*_,a.yaxmax+=10*_);var p=(a.yaxmax-a.yaxmin)/(7*_);for(p<2*a.lh*(a.yaxmax-a.yaxmin)/(_*a.hei_)&&(p=Math.ceil(2*a.lh*(a.yaxmax-a.yaxmin)/(_*a.hei_))),p=Math.ceil(p),p%2!=0&&p%5!=0&&p>1&&p--,a.yaxinc=_*p,a.yaxmax-=a.yaxmax%a.yaxinc,a.yaxmax0/a.ysclac>a.yaxmax&&(a.yaxmax+=a.yaxinc),a.yaxmin-=a.yaxmin%a.yaxinc;a.yaxmin>a.yaxmin0;)a.yaxmin-=a.yaxinc%2==0?Math.floor(a.yaxinc/2):a.yaxinc;a.yaxmin=SLLG.rounddec(a.yaxmin,a.ydec),a.yaxmax=SLLG.rounddec(a.yaxmax,a.ydec);var d=SLLG.getstr_wh("Z"+a.yaxmin,a.par),m=SLLG.getstr_wh("Z"+a.yaxmax,a.par);a.ylblw=Math.max(d.w,m.w),a.wi_=a.par.offsetWidth-a.ylblw-a.ylblh-a.yleftmargin-a.hili_size,a.scly=a.hei_/(a.yaxmax-a.yaxmin);var y=a.wi_;a.yrightmargin>0&&(y-=a.yrightmargin),a.xaxmin==a.xaxmax&&(a.xaxmax+=1,a.xaxmin-=1,a.xinc=1),isNaN(a.xinc)&&(a.xinc=1),a.sclx=y/(a.xaxmax-a.xaxmin),a.xtimeflag&&(a.xsameyr=SLLG.timestrfmt(a.xaxmin,"y")==SLLG.timestrfmt(a.xaxmax,"y")),a.ofstbleft=a.ylblw+a.ylblh+a.yleftmargin,a.ofstbtop=0;for(var h=a.par;h&&h.parentNode&&h!=document.body&&h!=window&&h.offsetLeft==t;)h=h.parentNode;a.ofstbleft+=h.offsetLeft,a.ofstbtop+=h.offsetTop,a.mslast=(new Date).getTime()},SLLG.prototype.canvasinit=function(){for(var t_=this,i=0;i<t_.grpary.length;i++){if(!t_.ptcanvs[i]){with(t_.ptcanvs[i]=document.createElement("canvas"),t_.ptcanvs[i].className="SLLG_ptcanv",t_.ptcanvs[i].style)position="absolute",top="0px",zIndex=t_.zind0+i+1;t_.ptcanvs[i].width=t_.wi_,t_.ptcanvs[i].height=t_.hei_,t_.excanvflag&&(t_.ptcanvs[i]=G_vmlCanvasManager.initElement(t_.ptcanvs[i])),SLLG.unselectable(t_.ptcanvs[i],t_.excanvflag),t_.par.appendChild(t_.ptcanvs[i])}var cx1=t_.ptcanvs[i].getContext("2d");cx1.clearRect(0,0,t_.ptcanvs[i].width,t_.ptcanvs[i].height),t_.ptcanvs[i].width=t_.wi_,t_.ptcanvs[i].height=t_.hei_,t_.ptcanvs[i].style.left=t_.ylblw+t_.ylblh+t_.yleftmargin+"px",t_.yavgls[i]&&(t_.yavgls[i].style.display="none")}with(t_.mousecanv)style.left=t_.ylblw+t_.ylblh-t_.yleftmargin+"px",width=t_.wi_+2*t_.yleftmargin,height=t_.hei_},SLLG.prototype.getyrange_loopx=function(){var t,a,e=this,i=new Date;(e.ser_hide[e.gi_]||e.grpary[e.gi_]==a)&&(e.loopc=Math.ceil(e.xloopn));do{if(e.loopc++,t=e.loopc*e.xinc+e.xaxmin,t>e.xaxmax)break;if(e.xtimeflag&&(!isNaN(e.rpthrs)||!isNaN(e.rpthre))){i.setTime(t);var r=i.getHours();if(!isNaN(e.rpthrs)&&r<e.rpthrs||!isNaN(e.rpthre)&&r>e.rpthre)continue}var l=e.getmapdata(e.gi_,t);if(!isNaN(l)&&(e.yminact>l&&(e.yminact=l),e.ymaxact<l&&(e.ymaxact=l),!isNaN(e.loopbrk)&&e.loopc%e.loopbrk==0)){e.loadlbl&&(e.loadlbl.innerHTML="Calculating Y axis ranges: "+Math.round(100*(e.loopc+e.gi_*e.xloopn)/(e.grpary.length*e.xloopn))+"% done"),window.setTimeout(function(){e.getyrange_loopx()});break}}while(t<=e.xaxmax);t>e.xaxmax&&(e.gi_++,e.gi_<e.grpary.length?(e.loopc=-1,e.getyrange_loopx()):(e.yaxmin=e.yminact*e.ysclac,e.yaxmax=e.ymaxact*e.ysclac,e.drawstart()))},SLLG.prototype.drawlegend=function(){for(var ud,t_=this,j=0;j<t_.lgelbls.length;j++)t_.par.removeChild(t_.lgelbls[j]);t_.lgelbls=[];for(var xdstr_last="",xc_endlast=-1,widthcord=t_.wi_+t_.ofstbleft,xv=t_.xlbmin;xv<=t_.xaxmax;xv+=t_.xaxinc){if(t_.xtimeflag&&t_.xaxinc>=2592e6){var xvnew=SLLG.timeround(xv,t_.xaxinc);xv=xvnew}var xc=t_.xval2cord(xv,!0),xc2=xc,xstr=""+xv;if(t_.xary)xstr=t_.xary[xv];else if(t_.xtimeflag){var fmt="h:i"+(t_.xaxinc<12e4?":s":"");if(t_.xaxinc>=2592e6)fmt="y/m";else if(t_.xaxinc>=864e5)fmt=(t_.xsameyr?"":"y/")+"m/d",xv<=t_.xlbmin&&(fmt="w "+fmt);else{var xdstr=SLLG.timestrfmt(xv,"y/m/d");xdstr_last!=xdstr&&(xdstr_last=xdstr,fmt="w y/m/d h:i"+(t_.xaxinc<12e4?":s":""),xv>t_.xlbmin&&(fmt=(t_.xsameyr?"":"y/")+"m/d"))}xstr=SLLG.timestrfmt(xv,fmt)}var xlbl=document.createElement("span");xlbl.className="SLLG_xlbl",xlbl.innerHTML=xstr;var xlblw=SLLG.getstr_wh(xstr,t_.par).w;xc2-=xlblw/2;var xclflag=xv>=t_.xaxmin;with(0>xc2&&(xc2=0,xclflag=!1),xc_endlast>=xc2&&(xc2+xlblw/2>xc_endlast?xc2+=xlblw/2:xc2+xlblw/3>xc_endlast?xc2+=xlblw/3:xc2+xlblw/3>xc_endlast?xc2+=xlblw/3:(xlbl.style.display="none",xclflag=!1)),xc_endlast<xc2+xlblw+t_.xlblmargin&&(xc_endlast=xc2+xlblw+t_.xlblmargin),xlbl.style)position="absolute",textAlign="center",zIndex=t_.zind0+1,left=xc2+"px",top=t_.hei_+2+"px",xc2>widthcord-xlblw&&(widthcord>xc2&&(width=widthcord-xc2+"px"),overflow="hidden",whiteSpace="nowrap");if(t_.par.appendChild(xlbl),t_.lgelbls.push(xlbl),!isNaN(t_.gridsize)&&t_.gridsize>0&&xclflag){var xlblline=document.createElement("div");with(xlblline.className="SLLG_xlblline",xlblline.style)position="absolute",zIndex=t_.zind0+1,left=xc+"px",top="0px",width="1px",height=t_.hei_+"px",borderLeft=t_.gridsize+"px solid "+t_.gridcolor,t_.excanvflag?filter="Alpha(opacity="+100*t_.gridopacity+")":opacity=t_.gridopacity;t_.par.appendChild(xlblline),t_.lgelbls.push(xlblline)}}if(t_.xaxmin!=t_.xlbmin&&!isNaN(t_.gridsize)&&t_.gridsize>0){var xc=t_.xval2cord(t_.xaxmin,!0),xlblline=document.createElement("div");with(xlblline.className="SLLG_xlblline",xlblline.style)position="absolute",zIndex=t_.zind0+1,left=xc+"px",top="0px",width="1px",height=t_.hei_+"px",borderLeft=t_.gridsize+"px solid "+t_.gridcolor,t_.excanvflag?filter="Alpha(opacity="+100*t_.gridopacity+")":opacity=t_.gridopacity;t_.par.appendChild(xlblline),t_.lgelbls.push(xlblline)}for(var yv=t_.yaxmin;yv<=t_.yaxmax;yv+=t_.yaxinc){var yvl=SLLG.rounddec(yv,t_.ydec),ylbl=document.createElement("span");ylbl.className="SLLG_ylbl";var yc=t_.yval2cord(yvl),yc2=yc-t_.lh/2;with(yvl<=t_.yaxmin?yc2-=t_.lh/2:yvl>=t_.yaxmax&&(yc2+=t_.lh/2),ylbl.innerHTML=yvl,ylbl.style)position="absolute",zIndex=t_.zind0+1,left=t_.ylblh-3+"px",top=yc2+"px",textAlign="right",width=t_.ylblw+"px";if(t_.par.appendChild(ylbl),t_.lgelbls.push(ylbl),!isNaN(t_.gridsize)&&t_.gridsize>0){var ylblline=document.createElement("div");with(ylblline.className="SLLG_ylblline",ylblline.style)position="absolute",zIndex=t_.zind0+1,left=t_.ylblh+t_.ylblw+t_.yleftmargin+"px",top=yc+"px",width=t_.wi_-1+"px",height="1px",borderTop=t_.gridsize+"px solid "+t_.gridcolor,t_.excanvflag?filter="Alpha(opacity="+100*t_.gridopacity+")":opacity=t_.gridopacity;t_.par.appendChild(ylblline),t_.lgelbls.push(ylblline)}}if(t_.yunit){if(t_.yunitact=t_.yunit,t_.ypowpre!=ud&&t_.ypowpre.length>0){var ypowv=SLLG.powvalstr_map[t_.ypowpre],yprechr=t_.yunit.match(/[a-z]/i),yprechr2=ud;SLLG.powvalstr_map[yprechr]&&(ypowv*=SLLG.powvalstr_map[yprechr]);for(var sp in SLLG.powvalstr_map)if(SLLG.powvalstr_map[sp]==ypowv){yprechr2=sp;break}yprechr2!=ud&&(t_.yunitact=t_.yunitact.replace(/([^a-z]*)([a-z])/i,"$1"+yprechr2+(SLLG.powvalstr_map[yprechr]?"":"$2")))}var m=document.createElement("span");m.className="SLLG_yunitlbl";var e="rotate(-90deg)",l2=0-Math.floor((SLLG.getstr_wh(t_.yunitact).w-t_.lh)/2);with(m.style)position="absolute",left=l2+"px",top=t_.hei_/2+"px",color=t_.gridcolor,zIndex=t_.zind0+1,transform=e,WebkitTransform=e,MozTransform=e,OTransform=e,msTransform=e;if(document.documentMode!=ud&&document.documentMode<9)with(m.style)filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=3)",left="0px";m.innerHTML=t_.yunitact,t_.par.appendChild(m),t_.lgelbls.push(m)}},SLLG.prototype.drawseries=function(){var t=this;t.pathsize=0,t.loopc=-1,t.xlastdraw=Number.NaN,t.drawseries_loopx()},SLLG.prototype.drawseries_loopx=function(){var t,a=this;(a.ser_hide[a.gi_]||a.grpary[a.gi_]==t)&&(a.loopc=a.xloopn+1);do if(a.loopc++,a.drawpoint(),!isNaN(a.loopbrk)&&a.loopc%a.loopbrk==0){a.loadlbl&&(a.loadlbl.innerHTML="Drawing data points: "+Math.round(100*(a.gi_*a.xloopn+a.loopc)/(a.grpary.length*a.xloopn))+"% done"),window.setTimeout(function(){a.drawseries_loopx()});break}while(a.loopc<=a.xloopn);if(a.loopc>a.xloopn){isNaN(a.xlastdraw)||a.endpath();{(new Date).getTime()}a.mslast=(new Date).getTime(),a.gi_<a.grpary.length-1?(a.gi_++,a.drawseries()):a.drawend()}},SLLG.prototype.endpath=function(){var t=this,a=t.ptcanvs[t.gi_].getContext("2d");if(a){var e=t.xval2cord(t.xpathstart);if(t.areafill){var i=t.xval2cord(t.xlastdraw),r=t.yval2cord(t.yaxmin);a.lineTo(i,r),a.lineTo(e,r),a.fill()}if(!isNaN(t.xpathstart)&&t.xpathstart==t.xlastdraw&&t.pathsize<2){var l=t.getmapdata(t.gi_,t.xpathstart),n=t.yval2cord(l);a.lineTo(e+1,n)}a.stroke()}t.pathsize=0,t.xlastdraw=Number.NaN,t.xpathstart=Number.NaN},SLLG.prototype.drawpoint=function(){{var t,a,e,i=this,r=new Date;Number.NaN}if(i.ptcanvs[i.gi_]&&(t=i.ptcanvs[i.gi_].getContext("2d")),t!=e&&(a=i.loopc*i.xinc+i.xaxmin,!(a>i.xaxmax))){if(i.xtimeflag&&i.xinc>=2592e6&&(a=SLLG.timeround(a,i.xinc)),i.xtimeflag&&(!isNaN(i.rpthrs)||!isNaN(i.rpthre))){r.setTime(a);var l=r.getHours();if(!isNaN(i.rpthrs)&&l<i.rpthrs||!isNaN(i.rpthre)&&l>i.rpthre)return void(isNaN(i.xlastdraw)||i.endpath())}var n=i.getmapdata(i.gi_,a);isNaN(n)||(i.statavg&&(i.ser_ysum[i.gi_]==e&&(i.ser_ysum[i.gi_]=0),i.ser_ysum[i.gi_]+=n,i.ser_xcnt[i.gi_]==e&&(i.ser_xcnt[i.gi_]=0),i.ser_xcnt[i.gi_]++),i.statmin&&(i.ser_minpt[i.gi_]==e||i.ser_minpt[i.gi_][1]>n)&&(i.ser_minpt[i.gi_]=[a,n]),i.statmax&&(i.ser_maxpt[i.gi_]==e||i.ser_maxpt[i.gi_][1]<n)&&(i.ser_maxpt[i.gi_]=[a,n]),i.statpct&&!isNaN(i.statpct)&&(i.ser_vals[i.gi_]||(i.ser_vals[i.gi_]=[]),i.ser_vals[i.gi_].push({x:a,y:n})),i.statbench&&!isNaN(i.statbench)&&(i.ser_benchcnt[i.gi_]==e&&(i.ser_benchcnt[i.gi_]=0),n*i.ysclac>i.statbench&&i.ser_benchcnt[i.gi_]++));var s=i.xval2cord(a),o=i.yval2cord(n);isNaN(i.xlastdraw)||(!isNaN(i.xincgap)&&a-i.xlastdraw>=i.xincgap?i.endpath():isNaN(n)||(t.lineTo(s,o),i.pathsize++,i.xlastdraw=a)),i.excanvflag&&i.pathsize>0&&i.pathsize%SLLG.excanv_pathlim==0&&i.endpath(),isNaN(i.xlastdraw)&&!isNaN(n)&&(t.beginPath(),t.strokeStyle=i.colors[i.gi_],i.areafill&&(t.fillStyle=i.colors[i.gi_]),t.lineWidth=i.lineThickness,t.moveTo(s,o),i.xlastdraw=a,i.xpathstart=a,i.pathsize++)}},SLLG.prototype.drawstats=function(){var ud,t_=this,hs=3*t_.hili_size,ysz=t_.yavglsize,fmt=(t_.xsameyr?"":"y/")+"m/d h:i",xc2max=t_.ylblh+t_.ylblw+t_.yleftmargin+t_.wi_-hs;if(t_.excanvflag&&(hs=2*t_.hili_size),isNaN(ysz)&&(ysz=-1),ysz>0&&t_.statcolorlines!=ud)for(var col in t_.statcolorlines){var yv=t_.statcolorlines[col];if(!isNaN(yv)){if(!t_.statcol_lnodes[col]){with(t_.statcol_lnodes[col]=document.createElement("div"),t_.statcol_lnodes[col].className="SLLG_statline",t_.statcol_lnodes[col].style)position="absolute",zIndex=t_.zind0+t_.grpary.length+4,t_.excanvflag?(borderTop=ysz+"px dashed "+col,height="0px"):(backgroundImage="linear-gradient(to right,"+col+" 45%,white 0%)",backgroundSize=16*ysz+"px "+ysz/2+"px",backgroundRepeat="repeat-x",height=ysz/2+"px");t_.par.appendChild(t_.statcol_lnodes[col])}var yc2=t_.yval2cord(yv);with(t_.statcol_lnodes[col].style)yc2>=0&&yc2<=t_.hei_?(display="block",top=yc2+"px",left=t_.ylblh+t_.ylblw+t_.yleftmargin+"px",width=t_.wi_-t_.yleftmargin+"px"):display="none"}}else{for(var col in t_.statcol_lnodes)t_.statcol_lnodes[col]&&(t_.statcol_lnodes[col].style.display="none",t_.par.removeChild(t_.statcol_lnodes[col]));t_.statcol_lnodes={}}if(!t_.statpar)return!1;t_.xary?xstr=t_.xary[xv]:t_.xtimeflag&&(t_.stattimenode||(t_.stattimenode=document.createElement("span"),t_.stattimenode.className="SLLG_stattime",t_.stattimenode.setAttribute("name","stattime"),t_.statpar.appendChild(t_.stattimenode),t_.statpar.appendChild(document.createElement("br"))),t_.stattimenode.innerHTML=SLLG.epochrangestr(t_.xaxmin,t_.xaxmax,t_.xinc<6e4));for(var i=0;i<t_.grpary.length;i++)if(t_.grpary[i]!=ud){if(!t_.statlbls[i]){with(t_.statlbls[i]=document.createElement("div"),t_.statlbls[i].className="SLLG_statlbl",t_.statlbls[i].setAttribute("name","statlinelbl"+i),t_.statlbls[i].style)cursor="pointer";t_.statlbls[i].onclick=function(){t_.toggleseries(parseFloat(this.getAttribute("name").replace(/^[^0-9]+/,"")))},t_.statpar.appendChild(t_.statlbls[i])}var statline="",yavg=Number.NaN;if(!t_.ser_hide[i]){if(t_.statavg&&(yavg=t_.ser_ysum[i]/t_.ser_xcnt[i],statline+="avg="+SLLG.rounddec(yavg,t_.ydec)+" || "),t_.statmax){var xstr;if(statline+="max=",t_.ser_maxpt[i]==ud?statline+=ud:(statline+=SLLG.rounddec(t_.ser_maxpt[i][1],t_.ydec),xstr=t_.ser_maxpt[i][0],t_.xary?xstr=t_.xary[xstr]:t_.xtimeflag&&(xstr=SLLG.timestrfmt(xstr,fmt))),statline+="@"+xstr+" || ",t_.stat_triglbl&&t_.ser_maxpt[i]!=ud){var triglbl=document.createElement("div");triglbl.innerHTML="&#9661;";var xc2=t_.xval2cord(t_.ser_maxpt[i][0],!0)-Math.round(hs/2);with(xc2>xc2max&&(xc2=xc2max),triglbl.style)position="absolute",fontWeight="bold",color=t_.colors[i],fontSize=hs+"px",width=fontSize,height=width,left=xc2+"px",top=t_.yval2cord(t_.ser_maxpt[i][1])-Math.round(hs/2)+"px";SLLG.unselectable(triglbl,t_.excanvflag),t_.par.appendChild(triglbl),t_.lgelbls.push(triglbl)}}if(t_.statmin){var xstr;if(statline+="min=",t_.ser_minpt[i]==ud?statline+=ud:(statline+=SLLG.rounddec(t_.ser_minpt[i][1],t_.ydec),xstr=t_.ser_minpt[i][0],t_.xary?xstr=t_.xary[xstr]:t_.xtimeflag&&(xstr=SLLG.timestrfmt(xstr,fmt))),statline+="@"+xstr+" || ",t_.stat_triglbl&&t_.ser_minpt[i]!=ud){var triglbl=document.createElement("div");triglbl.innerHTML="&#9651;";var xc2=t_.xval2cord(t_.ser_minpt[i][0],!0)-Math.round(hs/2);with(xc2>xc2max&&(xc2=xc2max),triglbl.style)position="absolute",fontWeight="bold",color=t_.colors[i],fontSize=hs+"px",width=fontSize,height=width,left=xc2+"px",top=t_.yval2cord(t_.ser_minpt[i][1])-hs/2+"px";SLLG.unselectable(triglbl,t_.excanvflag),t_.par.appendChild(triglbl),t_.lgelbls.push(triglbl)}}if(t_.statpct&&!isNaN(t_.statpct)){var valary=t_.ser_vals[i].slice(0);valary.sort(function(t,a){return t.y==a.y?a.x-t.x:t.y-a.y});var pctind=Math.round(valary.length*t_.statpct/100);statline+=t_.statpct+"th %tile="+valary[pctind].y;var xstr=valary[pctind].x;t_.xary?xstr=t_.xary[xstr]:t_.xtimeflag&&(xstr=SLLG.timestrfmt(xstr,fmt)),statline+="@"+xstr+" || "}}if(statline.length>0?(statline=statline.substring(0,statline.length-4),statline=" ("+statline+")",t_.yunit&&(statline+=" "+t_.yunitact),t_.statlbls[i].style.color=t_.colors[i]):t_.statlbls[i].style.color="gray",t_.statlbls[i].innerHTML=t_.grpary[i]+":"+statline,ysz>0){if(!t_.yavgls[i]){with(t_.yavgls[i]=document.createElement("div"),t_.yavgls[i].className="SLLG_yavgline",t_.yavgls[i].style)position="absolute",zIndex=t_.zind0+i,backgroundColor=SLLG.getcompstyle(t_.par,"backgroundColor"),t_.excanvflag?(borderTop=ysz+"px dashed "+t_.colors[i],height="0px",filter="Alpha(opacity="+200*t_.gridopacity+")"):(backgroundImage="linear-gradient(to right,"+t_.colors[i]+" 45%,transparent 0%)",backgroundSize=16*ysz+"px "+ysz/2+"px",backgroundRepeat="repeat-x",height=ysz/2+"px",opacity=2*t_.gridopacity);t_.par.appendChild(t_.yavgls[i])}if(isNaN(yavg))with(t_.yavgls[i].style)display="none";else{var yc2=t_.yval2cord(yavg);with(t_.yavgls[i].style)yc2>=0&&yc2<=t_.hei_?(display="block",top=yc2+"px",left=t_.ylblh+t_.ylblw+t_.yleftmargin+"px",width=t_.wi_-t_.yleftmargin+"px"):display="none"}}}if(t_.statbench&&!isNaN(t_.statbench)){var benchline="% of data over ";t_.statbenchdesc?benchline+=t_.statbenchdesc:(benchline+=t_.statbench,t_.yunit&&(benchline+=t_.yunit)),benchline+=": ";for(var i=0;i<t_.grpary.length;i++)benchline+=t_.grpary[i]+"="+SLLG.rounddec(100*t_.ser_benchcnt[i]/t_.ser_xcnt[i],t_.ydec)+"%, ";t_.sbnchnode||(t_.sbnchnode=document.createElement("div"),t_.sbnchnode.className="SLLG_statbench",t_.statpar.appendChild(t_.sbnchnode)),t_.sbnchnode.innerHTML=benchline}},SLLG.prototype.drawend=function(){var t=this;if(t.mslast=(new Date).getTime(),t.loadlbl&&(t.loadlbl.style.display="none",t.loadlbl.innerHTML=""),t.statpar&&t.drawstats(),!isNaN(t.yrecalc_limit)&&t.xloopn>t.yrecalc_limit&&!t.iszoomed&&t.ptcanvorigs.length<=0){for(var a=0;a<t.ptcanvs.length;a++)t.ptcanvorigs[a]=t.excanvflag?t.ptcanvs[a].getContext("2d").element_.innerHTML:SLLG.clonecanvas(t.ptcanvs[a]);t.stat_origs={};for(var e in t.stat_arys)t.stat_origs[e]=t[e].slice(0)}t.endfunc&&t.endfunc(t);(new Date).getTime();if(!isNaN(t.movewait)&&t.movewait>=0&&!t.mousevtset){for(var i in{mousemove:0,mousedown:0,mouseup:0})t.evtsetup(t.mousecanv,i);t.mousevtset=!0}!isNaN(t.resizewait)&&t.resizewait>=0&&SLLG.evtadd(window,"resize",function(a){return t.resize_(a)}),t.drawdone=!0},SLLG.prototype.hili_init=function(){var ud,t_=this;t_.xhili=SLLG.getnodebyname(t_.xhili),t_.yhili=SLLG.getnodebyname(t_.yhili);for(var i=0;i<t_.grpary.length;i++)if(!t_.hilnds[i]&&t_.grpary[i]!=ud){with(t_.hilnds[i]=document.createElement("div"),t_.hilnds[i].className="SLLG_hilicanv",SLLG.unselectable(t_.hilnds[i],t_.excanvflag),t_.hilnds[i].style)position="absolute",userSelect="none",zIndex=t_.zind0+1,color=t_.colors[i],cursor="pointer",margin="0px",padding="0px",verticalAlign="top",width=t_.hili_size+"px",height=width,fontSize=3*t_.hili_size+"px";
if(t_.hilnds[i].innerHTML="&#9679;",t_.par.appendChild(t_.hilnds[i]),t_.yhili){var yhilisub=document.createElement("span");with(yhilisub.setAttribute("name","hilisub_"+i),t_.hilnds[i].className="SLLG_hilisub",yhilisub.style)cursor="pointer",whiteSpace="nowrap",display="inline-block";yhilisub.onclick=function(){t_.toggleseries(parseFloat(this.getAttribute("name").replace(/^[^0-9]+/,"")))},t_.yhili.appendChild(yhilisub),t_.yhisubs[i]=yhilisub}}},SLLG.prototype.toggleseries=function(t){var a,e=this;e.ser_hide[t]==a&&(e.ser_hide[t]=!1),e.ser_hide[t]=!e.ser_hide[t],e.ptcanvs[t].style.visibility=e.ser_hide[t]?"hidden":"visible",!isNaN(e.yrecalc_limit)&&e.xloopn<=e.yrecalc_limit?e.drawzoom(e.xaxmin,e.xaxmax):(e.hili_update(),e.drawend())},SLLG.prototype.exportdataurl=function(){var t=this,a=document.createElement("canvas");if(a.className="SLLG_exportcanv",t.excanvflag)return!1;a.width=t.wi_+t.ylblw+t.ylblh+t.yleftmargin,a.height=t.hei_+1.5*t.lh+2,t.debuglvl>=4&&document.body.appendChild(a);for(var e=a.getContext("2d"),i=0;i<t.grpary.length;i++)t.ptcanvs[i]&&e.drawImage(t.ptcanvs[i],t.ylblw+t.ylblh+1,0);e.lineWidth=t.lineThickness;for(var r=0;r<t.lgelbls.length;r++){var l=t.lgelbls[r].innerHTML,n=t.lgelbls[r].offsetLeft,s=t.lgelbls[r].offsetTop;l.length<=0?(e.beginPath(),e.strokeStyle=t.gridcolor,e.lineWidth=t.lineThickness,t.lgelbls[r].offsetWidth<=2*t.gridsize+1?(e.moveTo(n,1),e.lineTo(n,t.hei_-2)):(e.moveTo(t.ylblw+t.ylblh+1,s),e.lineTo(t.ylblw+t.ylblh+t.wi_-t.yleftmargin,s)),e.stroke()):(0>n&&(n=0),0>s&&(s=0),e.font=SLLG.getcompstyle(t.lgelbls[r],"font"),e.fillStyle=SLLG.getcompstyle(t.lgelbls[r],"color"),e.fillText(l,n,s))}return a.toDataURL()},SLLG.excanv_pathlim=8190,SLLG.rounddec=function(t,a){if(isNaN(a))return t;var e=Math.pow(10,a);return Math.round(t*e)/e},SLLG.stylestr2js=function(t){var a=""+t,e=a.match(/([^-]+)(-\w)(.*)/);return e&&(a=e[1]+e[2].replace(/-/g,"").toUpperCase()+e[3]),a},SLLG.getcompstyle=function(t,a){var e;return t.currentStyle?(e=t.currentStyle[a],e||(e=t.currentStyle[SLLG.stylestr2js(a)])):window.getComputedStyle&&(e=document.defaultView.getComputedStyle(t),e&&(e=e.getPropertyValue(a))),e},SLLG.clonecanvas=function(t){var a=t.cloneNode(!0);return a.width=t.width,a.height=t.height,a.getContext("2d").drawImage(t,0,0),a},SLLG.getstr_wh=function(t,a){t||(t="A"),a||(a=document.body);var e=document.createElement("span");e.innerHTML=t,a.insertBefore(e,a.firstChild);var i={w:e.offsetWidth,h:e.offsetHeight};return a.removeChild(e),i},SLLG.mousepos=function(t,a){a||(a="X");var e=-1,i="X"==a?"Left":"Top";t["page"+a]?e=t["page"+a]:t["client"+a]&&(e=t["client"+a]);var r=document.documentElement["scroll"+i];return r||(r=document.body["scroll"+i]),r&&(e+=r),e},SLLG.evtcancel=function(t){t=t?t:window.event,t.preventDefault?(t.preventDefault(),t.stopPropagation&&t.stopPropagation()):(t.returnValue=!1,t.cancelBubble=!0)},SLLG.evtadd=function(t,a,e){var i,r=e;return t!=i&&e!=i&&(typeof a).match(/^string/i)?(t.addEventListener?t.addEventListener(a,r,!1):t.attachEvent&&(r=function(){return e(window.event)},t.attachEvent("on"+a,r)),r):!1},SLLG.unselectable=function(el,exc){if(!el||!el.style)return el;var n="none";with(el.style)userSelect=n,webkitUserSelect=n,MozUserSelect=n;exc&&(el.setAttribute("unselectable","on"),document.onselectstart=function(){return!1})},SLLG.timestrfmt=function(t,a){a||(a="w y/m/d h:i:s");var e=new Date;t&&e.setTime(t);var i=e.toString(),r=i.substr(i.indexOf(":")-2);if(a.indexOf("y")>=0&&(a=a.replace("y",e.getFullYear())),a.indexOf("m")>=0){var l=e.getMonth()+1;10>l&&(l="0"+l),a=a.replace("m",l)}if(a.indexOf("d")>=0){var n=e.getDate();10>n&&(n="0"+n),a=a.replace("d",n)}return a.indexOf("h")>=0&&(a=a.replace("h",r.substring(0,2))),a.indexOf("i")>=0&&(a=a.replace("i",r.substring(3,5))),a.indexOf("s")>=0&&(a=a.replace("s",r.substring(6,8))),a.indexOf("w")>=0&&(a=a.replace("w",i.substring(0,3))),a},SLLG.timeround=function(t,a){var e=new Date;if(e.setTime(t),a>=2592e6&&e.setDate(1),a>=864e5)e.setHours(0);else if(a>=72e5){var i=e.getHours();i-=i%2,e.setHours(i)}if(a>=36e5)e.setMinutes(0);else if(a>=12e4){var r=e.getMinutes();r-=r%Math.floor(a/6e4),e.setMinutes(r)}return a>=6e4&&e.setSeconds(0),a>=2592e6&&e.getTime()<t-12096e5&&(e.setMonth(e.getMonth()+1),e.setDate(1)),e.getTime()},SLLG.epochrangestr=function(t,a,e){var i=this,r="",l="h:i"+(e?":s":"");if(t&&!isNaN(t)&&(r+=i.timestrfmt(t,"w y/m/d "+l)),a&&!isNaN(a)){r+=" ~ ";var n=i.timestrfmt(a,"w y/m/d ");r.indexOf(n)<0&&(r+=n),r+=i.timestrfmt(a,l)}return r},SLLG.powvalstr_map={P:Math.pow(10,15),T:Math.pow(10,12),G:Math.pow(10,9),M:Math.pow(10,6),K:Math.pow(10,3),"":1,m:Math.pow(10,-3)},SLLG.powvalstr_closestunitpre=function(t){var a,e,i=this,r="";if(isNaN(t)&&(t=parseFloat(t)),isNaN(t))return r;for(var l in i.powvalstr_map)t>=i.powvalstr_map[l]&&(a==e||a<i.powvalstr_map[l])&&(a=i.powvalstr_map[l],r=l);return r},SLLG.isArray=function(t){var a,e=""+typeof t;return!("object"!=e&&("function"!=e||"function"!=typeof t.item)||t==a||"number"!=typeof t.length||3===t.nodeType)},SLLG.getnodebyname=function(t){var a;if(t==a||t.tagName)return t;if((typeof t).match(/^str/i)){var e=document.getElementById(t);return e||(e=document.getElementsByName(t),e&&e.length>0&&(e=e[0])),e}return a};
